# ë°±ì—”ë“œ ê°œë°œì Quick Reference

> ì‘ì„±ì¼: 2025-01-07
> ëŒ€ìƒ: **ë°±ì—”ë“œ ê°œë°œì (ë‹¹ì‹ !)**
> ëª©ì : ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê°œë°œ ì‹œ ì¦‰ì‹œ ì°¸ê³ í•  í•µì‹¬ ì •ë³´

---

## ğŸ¯ ë‹¹ì‹ ì˜ ì—­í• 

**ë°±ì—”ë“œ ê°œë°œì**ë¡œì„œ ë‹´ë‹¹í•˜ëŠ” í•µì‹¬ ì˜ì—­:
- âœ… **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„** (í¬ì¸íŠ¸ ê³„ì‚°, ê²€ì¦, ì›Œí¬í”Œë¡œìš°)
- âœ… **API ê°œë°œ** (NestJS Controllers, Services)
- âœ… **ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…** (Prisma ORM)
- âœ… **ì™¸ë¶€ API ì—°ë™** (Twitter OAuth, YouTube Data API)
- âœ… **ì‘ì—… í ê´€ë¦¬** (Bull Queue - í¬ë¡¤ë§, ì •ì‚°)
- âœ… **ìºì‹± ì „ëµ** (Redis)
- âœ… **ë¸”ë¡ì²´ì¸ ì—°ë™ ì¤€ë¹„** (ethers.js - ë¸”ë¡ì²´ì¸ ê°œë°œìì™€ í˜‘ì—…)

**ë‹¤ë¥¸ íŒ€ì› ì—­í• **:
- ğŸ¨ **í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì**: React ì»´í¬ë„ŒíŠ¸, UI/UX êµ¬í˜„
- â›“ï¸ **ë¸”ë¡ì²´ì¸ ê°œë°œì**: ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ (Solidity), ë°°í¬, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë‹

---

## ğŸ“š í•µì‹¬ ë¬¸ì„œ (ì¤‘ìš”ë„ ìˆœ)

### â­â­â­ ë§¤ì¼ ì°¸ê³ í•´ì•¼ í•  ë¬¸ì„œ

| ë¬¸ì„œ | ìš©ë„ | ë°”ë¡œê°€ê¸° |
|------|------|---------|
| **09-BACKEND-LOGIC-SPEC.md** | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìƒì„¸ ëª…ì„¸ (í¬ì¸íŠ¸ ê³„ì‚°, ê²€ì¦ ë¡œì§) | ğŸ‘ˆ **ì§€ê¸ˆ ì‘ì„± ì˜ˆì •** |
| **03-API-DESIGN.md** | API ì—”ë“œí¬ì¸íŠ¸, ìš”ì²­/ì‘ë‹µ êµ¬ì¡° | [ë§í¬](03-API-DESIGN.md) |
| **02-DATABASE-SCHEMA.md** | DB í…Œì´ë¸”, ê´€ê³„, ì¸ë±ìŠ¤ | [ë§í¬](02-DATABASE-SCHEMA.md) |

### â­â­ ìì£¼ ì°¸ê³ í•  ë¬¸ì„œ

| ë¬¸ì„œ | ìš©ë„ | ë°”ë¡œê°€ê¸° |
|------|------|---------|
| **10-EXTERNAL-API-INTEGRATION.md** | Twitter/YouTube API ì—°ë™ ê°€ì´ë“œ | ğŸ‘ˆ **ì§€ê¸ˆ ì‘ì„± ì˜ˆì •** |
| **11-QUEUE-JOBS-SPEC.md** | Bull Queue ì‘ì—… ì •ì˜ (í¬ë¡¤ë§, ì •ì‚°) | ğŸ‘ˆ **ì§€ê¸ˆ ì‘ì„± ì˜ˆì •** |
| **05-SYSTEM-ARCHITECTURE.md** | ì‹œìŠ¤í…œ êµ¬ì¡°, ëª¨ë“ˆ ê°„ í†µì‹  | [ë§í¬](05-SYSTEM-ARCHITECTURE.md) |

### â­ í•„ìš” ì‹œ ì°¸ê³ í•  ë¬¸ì„œ

| ë¬¸ì„œ | ìš©ë„ | ë°”ë¡œê°€ê¸° |
|------|------|---------|
| **07-CODING-GUIDELINES.md** | TypeScript/NestJS ì»¨ë²¤ì…˜ | [ë§í¬](07-CODING-GUIDELINES.md) |
| **12-ERROR-HANDLING.md** | ì˜ˆì™¸ ì²˜ë¦¬, ì—ëŸ¬ í•¸ë“¤ë§ ì „ëµ | ğŸ‘ˆ **ì§€ê¸ˆ ì‘ì„± ì˜ˆì •** |
| **06-DEVELOPMENT-SETUP.md** | ë¡œì»¬ í™˜ê²½ ì„¤ì • | [ë§í¬](06-DEVELOPMENT-SETUP.md) |

---

## ğŸ”¥ ì§€ê¸ˆ ë‹¹ì¥ ì•Œì•„ì•¼ í•  í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

### 1. í¬ì¸íŠ¸ ì‹œìŠ¤í…œ (6ê°œ ìŠ¬ë¡¯)

```typescript
// SLOT-01: ì½˜í…ì¸  í™•ì‚°
ì¡°íšŒìˆ˜ +100 â†’ +1P
ì¢‹ì•„ìš” +50  â†’ +1P
ê³µìœ  +10    â†’ +1P

// SLOT-02: ì‹ ê·œ íŒ¬ ìœ ì… (MGM)
ì¶”ì²œì¸ ì¡°ê±´ ì¶©ì¡± ì‹œ â†’ +2P (ì¶”ì²œì¸)
í”¼ì¶”ì²œì¸ ì¡°ê±´:
  âœ… ì»¤ë®¤ë‹ˆí‹° ê°€ì…
  âœ… ë””ìŠ¤ì½”ë“œ ê°€ì…
  âœ… ì˜ìƒ 1ê°œ ì—…ë¡œë“œ (í•´ì‹œíƒœê·¸ í•„ìˆ˜)
â†’ ëª¨ë‘ ì™„ë£Œ ì‹œ í”¼ì¶”ì²œì¸ +1P

// SLOT-03: íŒ¬ í˜‘ì—… ì´ë²¤íŠ¸
ì˜ê²°ê¶Œ í–‰ì‚¬ â†’ +1P
íˆ¬í‘œ â†’ ëˆ„ì  í¬ì¸íŠ¸ ë¹„ë¡€

// SLOT-04: ì‹¤ë¬¼ íŒë§¤í˜•
êµ¿ì¦ˆ êµ¬ë§¤ â†’ +2P
ë§¤ì¶œ ê¸°ì—¬ â†’ ì „ì²´ ìˆœìˆ˜ìµ / ëˆ„ì í¬ì¸íŠ¸ ë¹„ë¡€

// SLOT-05: ë¸Œëœë“œ í˜‘ì°¬í˜•
íˆ¬í‘œ ì°¸ì—¬ì ëŒ€ìƒ â†’ ì „ì²´ ìˆœìˆ˜ìµ / ëˆ„ì í¬ì¸íŠ¸ ë¹„ë¡€

// SLOT-06: MVP Boost
XLT Claim ì‹œ â†’ +300P (ê³ ì •)
```

### 2. í•µì‹¬ ê²€ì¦ ë¡œì§

```typescript
// ë ˆí¼ëŸ´ ì™„ë£Œ ì¡°ê±´ (SLOT-02)
async checkReferralCompletion(refereeId: string): Promise<boolean> {
  const referral = await prisma.referral.findFirst({
    where: { refereeId }
  });

  return (
    referral.isJoined &&           // ì»¤ë®¤ë‹ˆí‹° ê°€ì…
    referral.isDiscordJoined &&    // ë””ìŠ¤ì½”ë“œ ê°€ì…
    referral.isVideoPosted         // ì˜ìƒ ì—…ë¡œë“œ
  );
}

// í¬ì¸íŠ¸ ì§€ê¸‰ ì¡°ê±´
if (await checkReferralCompletion(refereeId)) {
  await addPoints(referrerId, 'MGM', 2);  // ì¶”ì²œì¸
  await addPoints(refereeId, 'MGM', 1);   // í”¼ì¶”ì²œì¸
}
```

### 3. ìœ íŠœë¸Œ í¬ë¡¤ë§ ë¡œì§

```typescript
// ë§¤ì¼ 00:00 UTC+9 ì‹¤í–‰
@Cron('0 0 * * *', { timeZone: 'Asia/Seoul' })
async crawlAllChannels() {
  const channels = await prisma.youtubeChannel.findMany({
    where: { isVerified: true }
  });

  for (const channel of channels) {
    // 1. ìµœê·¼ ìˆì¸  ì¡°íšŒ (YouTube Data API)
    const videos = await youtubeApi.getChannelVideos(channel.channelId, {
      type: 'shorts',
      publishedAfter: yesterday,
      maxResults: 50
    });

    // 2. í•„ìˆ˜ íƒœê·¸ í•„í„°ë§
    const eligibleVideos = videos.filter(v =>
      v.tags.includes('#WITCHES') || v.tags.includes('#XYLO')
    );

    // 3. DB ì €ì¥
    for (const video of eligibleVideos) {
      await prisma.youtubeVideo.upsert({
        where: { videoId: video.id },
        create: { ...video, isEligible: true },
        update: { viewCount: video.viewCount, likeCount: video.likeCount }
      });
    }

    // 4. ì „ë‚ ê³¼ ë¹„êµí•˜ì—¬ í¬ì¸íŠ¸ ê³„ì‚°
    await calculatePointsFromVideos(channel.userId);
  }
}
```

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ í•µì‹¬ í…Œì´ë¸”

### ìì£¼ ì“°ëŠ” í…Œì´ë¸” (ìš°ì„ ìˆœìœ„ ìˆœ)

#### 1. `users` - ì‚¬ìš©ì ê¸°ë³¸ ì •ë³´
```typescript
{
  id: string (UUID)
  xId: string (Twitter ID)
  xHandle: string (@username)
  email?: string
  walletAddress?: string
  referralCode: string (ê³ ìœ  ì½”ë“œ)
}
```

#### 2. `user_points` - ì‚¬ìš©ì í¬ì¸íŠ¸ ì§‘ê³„ (1:1)
```typescript
{
  userId: string (FK â†’ users.id)
  totalPoints: number
  slot01Content: number   // SLOT-01
  slot02Mgm: number       // SLOT-02
  slot03Event: number     // SLOT-03
  slot04Profit: number    // SLOT-04
  slot05Sponsor: number   // SLOT-05
  slot06Boost: number     // SLOT-06
  sbtValue: number        // SLOT-01~05 í•©ê³„
}
```

#### 3. `point_transactions` - í¬ì¸íŠ¸ ê±°ë˜ ë¡œê·¸
```typescript
{
  id: string
  userId: string
  category: 'CONTENT' | 'MGM' | 'EVENT' | 'PROFIT' | 'SPONSOR' | 'BOOST'
  amount: number
  reason?: string
  metadata?: JSONB  // ì¶”ê°€ ì •ë³´ (video_id, referral_id ë“±)
}
```

#### 4. `youtube_channels` - ìœ íŠœë¸Œ ì±„ë„
```typescript
{
  userId: string
  channelId: string (UC...)
  verificationCode: string (XYLO-AB12CD34)
  isVerified: boolean
  subscriberCount: number
}
```

#### 5. `youtube_videos` - ìœ íŠœë¸Œ ë¹„ë””ì˜¤
```typescript
{
  channelId: string
  videoId: string
  tags: string[]
  isShorts: boolean
  isEligible: boolean  // í¬ì¸íŠ¸ ëŒ€ìƒ ì—¬ë¶€
  viewCount: number
  likeCount: number
}
```

#### 6. `referrals` - ë ˆí¼ëŸ´ ê´€ê³„
```typescript
{
  referrerId: string  // ì¶”ì²œì¸
  refereeId: string   // í”¼ì¶”ì²œì¸
  isJoined: boolean
  isDiscordJoined: boolean
  isVideoPosted: boolean
  isCompleted: boolean  // 3ê°€ì§€ ëª¨ë‘ ì™„ë£Œ
}
```

---

## ğŸ”„ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ í”Œë¡œìš°

### í”Œë¡œìš° 1: íšŒì›ê°€ì… â†’ ìë™ í¬ìŠ¤íŒ…

```
User clicks "Sign in"
  â†“
Twitter OAuth ìŠ¹ì¸
  â†“
DBì— users ìƒì„± + referralCode ë°œê¸‰
  â†“
X APIë¡œ ìë™ í¬ìŠ¤íŒ… (ë ˆí¼ëŸ´ ë§í¬ í¬í•¨)
  POST /statuses/update.json
  Body: "XYLO Ã— WITCHES ... https://xylomvp.world/referral/{code}"
  â†“
JWT í† í° ë°œê¸‰
  â†“
Frontendë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
```

**ë‹¹ì‹ ì´ êµ¬í˜„í•  ì½”ë“œ**:
- `AuthService.twitterCallback()`: OAuth ì²˜ë¦¬
- `AuthService.autoTweet()`: ìë™ í¬ìŠ¤íŒ…
- `UsersService.createUser()`: ìœ ì € ìƒì„± + referralCode ë°œê¸‰

### í”Œë¡œìš° 2: ìœ íŠœë¸Œ ì±„ë„ ì¸ì¦

```
User: Edit Profile â†’ Youtube "Register"
  â†“
User ì…ë ¥: ì±„ë„ URL
  â†“
Backend: ì¸ì¦ì½”ë“œ ë°œê¸‰ (XYLO-AB12CD34)
  â†“
User: ì±„ë„ ì„¤ëª…ë€ì— ì¸ì¦ì½”ë“œ ì¶”ê°€
  â†“
User: "Confirm" í´ë¦­
  â†“
Backend: YouTube Data APIë¡œ ì±„ë„ ì„¤ëª… ì¡°íšŒ
  GET https://youtube.googleapis.com/youtube/v3/channels?part=snippet
  â†“
Backend: ì¸ì¦ì½”ë“œ ë§¤ì¹­ í™•ì¸
  if (description.includes(verificationCode)) {
    isVerified = true
  }
  â†“
Response: { isVerified: true, channelInfo }
```

**ë‹¹ì‹ ì´ êµ¬í˜„í•  ì½”ë“œ**:
- `YouTubeService.initiateVerification()`: ì¸ì¦ì½”ë“œ ë°œê¸‰
- `YouTubeService.confirmVerification()`: YouTube API í˜¸ì¶œ + ê²€ì¦
- `YouTubeApiClient.getChannelInfo()`: YouTube API ë˜í¼

### í”Œë¡œìš° 3: í¬ì¸íŠ¸ ê³„ì‚° (ë§¤ì¼ 00:00)

```
Cron Job íŠ¸ë¦¬ê±° (00:00 UTC+9)
  â†“
Bull Queue: "youtube-crawl" Job ì¶”ê°€
  â†“
Worker: ëª¨ë“  ì¸ì¦ëœ ì±„ë„ ìˆœíšŒ
  â†“
ê° ì±„ë„ë§ˆë‹¤:
  1. YouTube APIë¡œ ìµœê·¼ ìˆì¸  ì¡°íšŒ
  2. í•„ìˆ˜ íƒœê·¸ í•„í„°ë§ (#WITCHES, #XYLO)
  3. DBì— ì €ì¥ (youtube_videos)
  4. ìŠ¤ëƒ…ìƒ· ìƒì„± (youtube_video_snapshots)
  5. ì „ë‚ ê³¼ ë¹„êµ:
     - viewCount ì¦ê°€ë¶„ â†’ Ã·100 â†’ SLOT-01 í¬ì¸íŠ¸
     - likeCount ì¦ê°€ë¶„ â†’ Ã·50 â†’ SLOT-01 í¬ì¸íŠ¸
  6. point_transactions ê¸°ë¡
  â†“
Trigger: update_user_points() ì‹¤í–‰
  â†’ user_points ìë™ ì—…ë°ì´íŠ¸
  â†“
Redis: ë¦¬ë”ë³´ë“œ ì—…ë°ì´íŠ¸
  ZADD leaderboard:all userId totalPoints
  â†“
ì™„ë£Œ
```

**ë‹¹ì‹ ì´ êµ¬í˜„í•  ì½”ë“œ**:
- `YouTubeProcessor.handleCrawl()`: Bull Queue Worker
- `PointsService.calculateFromVideos()`: í¬ì¸íŠ¸ ê³„ì‚° ë¡œì§
- `PointsService.addPoints()`: point_transactions ê¸°ë¡
- `LeaderboardService.updateCache()`: Redis ì—…ë°ì´íŠ¸

### í”Œë¡œìš° 4: ë ˆí¼ëŸ´ ì™„ë£Œ ì²´í¬

```
í”¼ì¶”ì²œì¸ ì•¡ì…˜ (ê°€ì…, ë””ìŠ¤ì½”ë“œ, ì˜ìƒ ì—…ë¡œë“œ)
  â†“
EventEmitter: referral.action ì´ë²¤íŠ¸ ë°œí–‰
  â†“
ReferralService: ì¡°ê±´ ì²´í¬
  isJoined && isDiscordJoined && isVideoPosted?
  â†“
YES:
  1. referrals.isCompleted = true
  2. ì¶”ì²œì¸ +2P (SLOT-02)
  3. í”¼ì¶”ì²œì¸ +1P (SLOT-02)
  4. point_transactions ê¸°ë¡
  â†“
NO:
  ëŒ€ê¸° (ë‹¤ìŒ ì•¡ì…˜ê¹Œì§€)
```

**ë‹¹ì‹ ì´ êµ¬í˜„í•  ì½”ë“œ**:
- `ReferralService.checkCompletion()`: ì¡°ê±´ ê²€ì¦
- `ReferralService.completeReferral()`: í¬ì¸íŠ¸ ì§€ê¸‰
- `EventListener`: referral.* ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ

---

## ğŸš¨ ì£¼ì˜í•´ì•¼ í•  ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™

### âš ï¸ ë°˜ë“œì‹œ ì§€ì¼œì•¼ í•  ì œì•½ì‚¬í•­

1. **ë ˆí¼ëŸ´ ìê¸° ì°¸ì¡° ê¸ˆì§€**
   ```typescript
   if (referrerId === refereeId) {
     throw new BadRequestException('Cannot refer yourself');
   }
   ```

2. **í¬ì¸íŠ¸ ìŒìˆ˜ ë°©ì§€**
   ```typescript
   if (amount < 0) {
     throw new BadRequestException('Amount must be positive');
   }
   ```

3. **ì¤‘ë³µ ë°œê¸‰ ë°©ì§€**
   ```typescript
   // User Pass (SBT) 1ì¸ë‹¹ 1ê°œë§Œ
   const existing = await prisma.userNFT.findFirst({
     where: { userId, nftType: 'SBT' }
   });
   if (existing) {
     throw new ConflictException('Already minted');
   }
   ```

4. **ìœ íŠœë¸Œ ì±„ë„ ì¤‘ë³µ ì¸ì¦ ë°©ì§€**
   ```typescript
   const existing = await prisma.youtubeChannel.findUnique({
     where: { channelId }
   });
   if (existing && existing.userId !== currentUserId) {
     throw new ConflictException('Channel already verified by another user');
   }
   ```

5. **MVP ì¢…ë£Œ ì „ Boost ì§€ê¸‰ ê¸ˆì§€**
   ```typescript
   const mvpEndDate = new Date('2025-06-30');
   if (new Date() < mvpEndDate) {
     throw new BadRequestException('Boost only available after MVP ends');
   }
   ```

---

## ğŸ”§ ìì£¼ ì“°ëŠ” ì½”ë“œ ìŠ¤ë‹ˆí«

### í¬ì¸íŠ¸ ì¶”ê°€ (í‘œì¤€ íŒ¨í„´)
```typescript
async addPoints(
  userId: string,
  category: PointCategory,
  amount: number,
  reason?: string,
  metadata?: any
): Promise<void> {
  // 1. Validation
  if (amount <= 0) throw new BadRequestException('Amount must be positive');

  // 2. DB Transaction
  await this.prisma.$transaction(async (tx) => {
    // í¬ì¸íŠ¸ ê±°ë˜ ê¸°ë¡
    await tx.pointTransaction.create({
      data: { userId, category, amount, reason, metadata }
    });
    // Triggerë¡œ user_points ìë™ ì—…ë°ì´íŠ¸ë¨
  });

  // 3. Cache Invalidation
  await this.redis.del(`user:${userId}:points`);

  // 4. Event Emit
  this.eventEmitter.emit('points.added', { userId, category, amount });

  // 5. Logging
  this.logger.log(`Added ${amount} ${category} points to user ${userId}`);
}
```

### YouTube API í˜¸ì¶œ (Rate Limit ê³ ë ¤)
```typescript
async getChannelVideos(channelId: string): Promise<Video[]> {
  // 1. Cache Check
  const cacheKey = `youtube:channel:${channelId}:videos`;
  const cached = await this.redis.get(cacheKey);
  if (cached) return JSON.parse(cached);

  // 2. API í˜¸ì¶œ
  try {
    const response = await this.youtube.search.list({
      part: ['snippet'],
      channelId,
      type: ['video'],
      maxResults: 50,
      order: 'date'
    });

    const videos = response.data.items;

    // 3. Cache ì €ì¥ (1ì‹œê°„)
    await this.redis.setex(cacheKey, 3600, JSON.stringify(videos));

    return videos;
  } catch (error) {
    if (error.code === 403) {
      // Quota ì´ˆê³¼
      throw new ServiceUnavailableException('YouTube API quota exceeded');
    }
    throw error;
  }
}
```

### Bull Queue Job ì¶”ê°€
```typescript
// Job ì¶”ê°€
await this.queue.add('youtube-crawl', {
  channelId: 'UC...',
  userId: 'uuid'
}, {
  attempts: 3,
  backoff: { type: 'exponential', delay: 60000 },
  removeOnComplete: true
});

// Worker (Processor)
@Process('youtube-crawl')
async handleCrawl(job: Job) {
  const { channelId, userId } = job.data;

  try {
    await this.crawlChannel(channelId);
    this.logger.log(`Crawled channel ${channelId}`);
  } catch (error) {
    this.logger.error(`Failed to crawl ${channelId}: ${error.message}`);
    throw error; // ì¬ì‹œë„
  }
}
```

---

## ğŸ“ í˜‘ì—… ì¸í„°í˜ì´ìŠ¤

### í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìì™€ì˜ ê³„ì•½

**ë‹¹ì‹ ì´ ì œê³µí•  ê²ƒ**:
- âœ… RESTful API (docs/03-API-DESIGN.md ì°¸ê³ )
- âœ… Swagger ë¬¸ì„œ (`/api/docs`)
- âœ… WebSocket (ì‹¤ì‹œê°„ í¬ì¸íŠ¸ ì—…ë°ì´íŠ¸ - ì„ íƒ)
- âœ… ì—ëŸ¬ ì‘ë‹µ í˜•ì‹ (ì¼ê´€ì„± ìœ ì§€)

**í”„ë¡ íŠ¸ì—”ë“œê°€ ì œê³µí•  ê²ƒ**:
- UI ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- ì‚¬ìš©ì ì…ë ¥ ê²€ì¦ (í´ë¼ì´ì–¸íŠ¸ ì¸¡)
- MetaMask ì—°ë™ (ì§€ê°‘ ì„œëª…)

### ë¸”ë¡ì²´ì¸ ê°œë°œìì™€ì˜ ê³„ì•½

**ë‹¹ì‹ ì´ ì œê³µí•  ê²ƒ**:
- âœ… í¬ì¸íŠ¸ ë°ì´í„° (user_points ì¡°íšŒ API)
- âœ… NFT ë©”íƒ€ë°ì´í„° (JSON)
- âœ… ì§€ê°‘ ì£¼ì†Œ ê²€ì¦ (ì„œëª… í™•ì¸)
- âœ… íŠ¸ëœì­ì…˜ í•´ì‹œ ì €ì¥

**ë¸”ë¡ì²´ì¸ ê°œë°œìê°€ ì œê³µí•  ê²ƒ**:
- ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ (SBT, NFT, Vault)
- ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ, ABI
- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (NFT ë°œí–‰, Vault ì…ê¸ˆ ë“±)
- ê°€ìŠ¤ë¹„ ì¶”ì • ë¡œì§

**í˜‘ì—… í”Œë¡œìš° ì˜ˆì‹œ (NFT ë°œí–‰)**:
```
1. Frontend: "Claim User Pass" í´ë¦­
   â†“
2. Backend (ë‹¹ì‹ ): ë©”íƒ€ë°ì´í„° ìƒì„±
   GET /nfts/user-pass/prepare
   Response: { metadata, contractAddress, gasFee }
   â†“
3. Frontend: MetaMask ì„œëª… ìš”ì²­
   â†“
4. Blockchain: SBT ë°œí–‰ (mintUserPass)
   Event: UserPassMinted(userId, tokenId)
   â†“
5. Backend (ë‹¹ì‹ ): user_nfts ì €ì¥
   POST /nfts/user-pass/confirm
   Body: { txHash, tokenId }
```

---

## ğŸ¯ ë‹¹ì‹ ì˜ ê°œë°œ ìš°ì„ ìˆœìœ„ (ì¶”ì²œ)

### Week 1: ê¸°ë°˜ êµ¬ì¶•
1. âœ… NestJS í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
2. âœ… Prisma ìŠ¤í‚¤ë§ˆ ì‘ì„± + ë§ˆì´ê·¸ë ˆì´ì…˜
3. âœ… ê¸°ë³¸ ëª¨ë“ˆ ìƒì„± (Auth, Users, Points)
4. âœ… JWT ì¸ì¦ êµ¬í˜„

### Week 2: ì¸ì¦ ì‹œìŠ¤í…œ
1. âœ… Twitter OAuth ë¡œê·¸ì¸
2. âœ… ìë™ í¬ìŠ¤íŒ… (X API)
3. âœ… ë ˆí¼ëŸ´ ì½”ë“œ ë°œê¸‰
4. âœ… ì‚¬ìš©ì í”„ë¡œí•„ CRUD

### Week 3: ìœ íŠœë¸Œ ì—°ë™
1. âœ… ì±„ë„ ì¸ì¦ (ì¸ì¦ì½”ë“œ ë°©ì‹)
2. âœ… YouTube Data API í´ë¼ì´ì–¸íŠ¸
3. âœ… ë¹„ë””ì˜¤ ì¡°íšŒ + íƒœê·¸ í•„í„°ë§
4. âœ… Bull Queue ìŠ¤ì¼€ì¤„ëŸ¬ (í¬ë¡¤ë§)

### Week 4: í¬ì¸íŠ¸ ì‹œìŠ¤í…œ
1. âœ… í¬ì¸íŠ¸ ê³„ì‚° ë¡œì§ (SLOT-01~06)
2. âœ… point_transactions ê¸°ë¡
3. âœ… user_points ì§‘ê³„ (Trigger)
4. âœ… ë¦¬ë”ë³´ë“œ (Redis Sorted Set)

### Week 5: ë ˆí¼ëŸ´ & ì´ë²¤íŠ¸
1. âœ… ë ˆí¼ëŸ´ ì¡°ê±´ ê²€ì¦
2. âœ… ì´ë²¤íŠ¸ ì°¸ì—¬ API
3. âœ… í¬ì¸íŠ¸ íˆìŠ¤í† ë¦¬ ì¡°íšŒ
4. âœ… í†µê³„ API (Top 3, ë‚´ ìˆœìœ„ ë“±)

### Week 6: ë¸”ë¡ì²´ì¸ ì—°ë™ ì¤€ë¹„
1. âœ… NFT ë©”íƒ€ë°ì´í„° ìƒì„± API
2. âœ… ì§€ê°‘ ì—°ë™ (ì„œëª… ê²€ì¦)
3. âœ… user_nfts ì €ì¥
4. âœ… ë¸”ë¡ì²´ì¸ ê°œë°œì í˜‘ì—… ì¸í„°í˜ì´ìŠ¤ ì •ì˜

---

## ğŸ“ ë¬¸ì„œ ì—…ë°ì´íŠ¸ ê·œì¹™ (ì¤‘ìš”!)

**ë‹¹ì‹ ì´ ì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ë¬¸ì„œë„ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”!**

### ì—…ë°ì´íŠ¸í•´ì•¼ í•  ë¬¸ì„œ

| ë³€ê²½ ì‚¬í•­ | ì—…ë°ì´íŠ¸í•  ë¬¸ì„œ |
|----------|----------------|
| API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€/ìˆ˜ì • | `03-API-DESIGN.md` |
| DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ | `02-DATABASE-SCHEMA.md` |
| ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë³€ê²½ | `09-BACKEND-LOGIC-SPEC.md` (ì§€ê¸ˆ ì‘ì„± ì˜ˆì •) |
| Bull Queue Job ì¶”ê°€ | `11-QUEUE-JOBS-SPEC.md` (ì§€ê¸ˆ ì‘ì„± ì˜ˆì •) |
| ì™¸ë¶€ API í†µí•© ë³€ê²½ | `10-EXTERNAL-API-INTEGRATION.md` (ì§€ê¸ˆ ì‘ì„± ì˜ˆì •) |
| ì—ëŸ¬ ì²˜ë¦¬ ë°©ì‹ ë³€ê²½ | `12-ERROR-HANDLING.md` (ì§€ê¸ˆ ì‘ì„± ì˜ˆì •) |

### ë¬¸ì„œ ì—…ë°ì´íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
```
ì½”ë“œ ìˆ˜ì • ì™„ë£Œ
  â†“
[ ] ê´€ë ¨ ë¬¸ì„œ í™•ì¸
  â†“
[ ] ë¬¸ì„œ ë‚´ìš© ìˆ˜ì •
  â†“
[ ] Git Commit (ì½”ë“œ + ë¬¸ì„œ í•¨ê»˜)
  â†“
[ ] íŒ€ì›ì—ê²Œ ê³µì§€ (Slack)
```

---

## ğŸ†˜ ë§‰í˜”ì„ ë•Œ ì°¸ê³ í•  ê³³

1. **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê¶ê¸ˆ**: `docs/09-BACKEND-LOGIC-SPEC.md` (ì§€ê¸ˆ ì‘ì„± ì˜ˆì •)
2. **API ì„¤ê³„**: `docs/03-API-DESIGN.md`
3. **DB ìŠ¤í‚¤ë§ˆ**: `docs/02-DATABASE-SCHEMA.md`
4. **ì™¸ë¶€ API ì—ëŸ¬**: `docs/10-EXTERNAL-API-INTEGRATION.md` (ì§€ê¸ˆ ì‘ì„± ì˜ˆì •)
5. **ì½”ë”© ìŠ¤íƒ€ì¼**: `docs/07-CODING-GUIDELINES.md`
6. **ë°°í¬ ë¬¸ì œ**: `docs/08-DEPLOYMENT-STRATEGY.md`

---

**ì‘ì„±ì**: Lead Backend Engineer
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-07
**ë‹¤ìŒ ì—…ë°ì´íŠ¸**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„ ì‹œì‘ ì‹œì 
