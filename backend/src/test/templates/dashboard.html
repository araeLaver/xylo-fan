<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XYLO Backend Test Dashboard</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f5f7fa;
      min-height: 100vh;
    }

    /* í—¤ë” */
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px 30px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .header h1 {
      font-size: 24px;
      margin-bottom: 10px;
    }

    .header p {
      opacity: 0.9;
      font-size: 14px;
    }

    /* í…ŒìŠ¤íŠ¸ ìœ ì € ì„ íƒ */
    .user-selector {
      background: white;
      padding: 15px 30px;
      border-bottom: 1px solid #e0e0e0;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .user-selector label {
      font-weight: 600;
      color: #333;
    }

    .user-selector select {
      padding: 8px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      font-size: 14px;
      min-width: 200px;
    }

    .user-selector button {
      padding: 8px 15px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
    }

    .user-selector button:hover {
      background: #5568d3;
    }

    .user-info {
      margin-left: auto;
      padding: 8px 15px;
      background: #f0f4ff;
      border-radius: 6px;
      font-size: 13px;
      color: #667eea;
    }

    /* ë©”ì¸ ë ˆì´ì•„ì›ƒ */
    .main-layout {
      display: flex;
      min-height: calc(100vh - 140px);
    }

    /* ì‚¬ì´ë“œë°” */
    .sidebar {
      width: 250px;
      background: white;
      border-right: 1px solid #e0e0e0;
      overflow-y: auto;
    }

    .sidebar-menu {
      list-style: none;
    }

    .sidebar-menu li {
      border-bottom: 1px solid #f0f0f0;
    }

    .sidebar-menu a {
      display: block;
      padding: 15px 20px;
      color: #333;
      text-decoration: none;
      transition: all 0.2s;
      cursor: pointer;
    }

    .sidebar-menu a:hover {
      background: #f8f9fa;
      color: #667eea;
    }

    .sidebar-menu a.active {
      background: #667eea;
      color: white;
      font-weight: 600;
    }

    .sidebar-menu a::before {
      margin-right: 10px;
    }

    /* ë©”ì¸ ì»¨í…ì¸  */
    .main-content {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
    }

    /* ì„¹ì…˜ */
    .section {
      display: none;
    }

    .section.active {
      display: block;
    }

    .section-header {
      margin-bottom: 20px;
    }

    .section-header h2 {
      font-size: 24px;
      color: #333;
      margin-bottom: 5px;
    }

    .section-header p {
      color: #666;
      font-size: 14px;
    }

    /* ì¹´ë“œ */
    .card {
      background: white;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      margin-bottom: 20px;
    }

    .card h3 {
      font-size: 18px;
      color: #333;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid #f0f0f0;
    }

    /* ì…ë ¥ ê·¸ë£¹ */
    .input-group {
      margin-bottom: 15px;
    }

    .input-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: 600;
      color: #333;
      font-size: 14px;
    }

    .input-group input,
    .input-group select,
    .input-group textarea {
      width: 100%;
      padding: 10px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      font-size: 14px;
      transition: border-color 0.3s;
    }

    .input-group input:focus,
    .input-group select:focus,
    .input-group textarea:focus {
      outline: none;
      border-color: #667eea;
    }

    .input-group textarea {
      resize: vertical;
      min-height: 100px;
    }

    /* ë²„íŠ¼ */
    button {
      padding: 12px 24px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    button:active {
      transform: translateY(0);
    }

    button:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
    }

    button.secondary {
      background: #6c757d;
    }

    button.danger {
      background: #dc3545;
    }

    button.success {
      background: #28a745;
    }

    /* ê²°ê³¼ í‘œì‹œ */
    .result {
      margin-top: 20px;
      padding: 15px;
      border-radius: 6px;
      font-size: 14px;
    }

    .result.success {
      background: #d4edda;
      border: 1px solid #c3e6cb;
      color: #155724;
    }

    .result.error {
      background: #f8d7da;
      border: 1px solid #f5c6cb;
      color: #721c24;
    }

    .result.info {
      background: #d1ecf1;
      border: 1px solid #bee5eb;
      color: #0c5460;
    }

    .result.warning {
      background: #fff3cd;
      border: 1px solid #ffeeba;
      color: #856404;
    }

    /* í…Œì´ë¸” */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }

    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #e0e0e0;
    }

    th {
      background: #f8f9fa;
      font-weight: 600;
      color: #333;
    }

    tr:hover {
      background: #f8f9fa;
    }

    /* ë¡œë”© */
    .loading {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* ë±ƒì§€ */
    .badge {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 600;
    }

    .badge.primary {
      background: #667eea;
      color: white;
    }

    .badge.success {
      background: #28a745;
      color: white;
    }

    .badge.danger {
      background: #dc3545;
      color: white;
    }

    .badge.warning {
      background: #ffc107;
      color: #333;
    }

    /* Flex ìœ í‹¸ë¦¬í‹° */
    .flex {
      display: flex;
    }

    .flex-between {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .flex-gap {
      gap: 10px;
    }

    .mt-20 {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <!-- í—¤ë” -->
  <div class="header">
    <h1>ğŸš€ XYLO Backend Test Dashboard</h1>
    <p>ëª¨ë“  ë°±ì—”ë“œ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” í†µí•© ê´€ë¦¬ í˜ì´ì§€ì…ë‹ˆë‹¤.</p>
  </div>

  <!-- í…ŒìŠ¤íŠ¸ ìœ ì € ì„ íƒ -->
  <div class="user-selector">
    <label>ğŸ§ª í…ŒìŠ¤íŠ¸ ìœ ì €:</label>
    <select id="userSelect" onchange="changeUser()">
      <option value="00000000-0000-0000-0000-000000000000">Test User (ê¸°ë³¸)</option>
    </select>
    <button onclick="loadUsers()">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
    <button onclick="createTestUser()">â• ìƒˆ í…ŒìŠ¤íŠ¸ ìœ ì € ìƒì„±</button>
    <div class="user-info" id="userInfo">
      User ID: 00000000-0000-0000-0000-000000000000
    </div>
  </div>

  <!-- ë©”ì¸ ë ˆì´ì•„ì›ƒ -->
  <div class="main-layout">
    <!-- ì‚¬ì´ë“œë°” -->
    <div class="sidebar">
      <ul class="sidebar-menu">
        <li><a href="#" onclick="showSection('overview')" class="active">ğŸ“Š Overview</a></li>
        <li><a href="#" onclick="showSection('youtube')">ğŸ“º YouTube</a></li>
        <li><a href="#" onclick="showSection('points')">ğŸ’° Points</a></li>
        <li><a href="#" onclick="showSection('leaderboard')">ğŸ† Leaderboard</a></li>
        <li><a href="#" onclick="showSection('referral')">ğŸ‘¥ Referral</a></li>
        <li><a href="#" onclick="showSection('nft')">ğŸ¨ NFT</a></li>
        <li><a href="#" onclick="showSection('tutorial')">ğŸ“š Tutorial</a></li>
        <li><a href="#" onclick="showSection('faq')">â“ FAQ</a></li>
        <li><a href="#" onclick="showSection('events')">ğŸª Events</a></li>
      </ul>
    </div>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <div class="main-content">
      <!-- Overview ì„¹ì…˜ -->
      <div id="section-overview" class="section active">
        <div class="section-header">
          <h2>ğŸ“Š Dashboard Overview</h2>
          <p>ê° ëª¨ë“ˆì˜ ìƒíƒœë¥¼ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="flex" style="gap: 20px; flex-wrap: wrap;">
          <div class="card" style="flex: 1; min-width: 300px;">
            <h3>ğŸ¯ Quick Stats</h3>
            <div id="quickStats">
              <p>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
          </div>

          <div class="card" style="flex: 1; min-width: 300px;">
            <h3>ğŸ“‹ Recent Activity</h3>
            <div id="recentActivity">
              <p>í™œë™ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
          </div>
        </div>

        <div class="card mt-20">
          <h3>ğŸ”— Quick Links</h3>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
            <button onclick="showSection('youtube')">ğŸ“º YouTube í…ŒìŠ¤íŠ¸</button>
            <button onclick="showSection('points')">ğŸ’° Points ê´€ë¦¬</button>
            <button onclick="showSection('leaderboard')">ğŸ† Leaderboard í™•ì¸</button>
            <button onclick="showSection('referral')">ğŸ‘¥ Referral í…ŒìŠ¤íŠ¸</button>
            <button onclick="showSection('nft')">ğŸ¨ NFT ê´€ë¦¬</button>
          </div>
        </div>
      </div>

      <!-- YouTube ì„¹ì…˜ (ê¸°ì¡´ ê¸°ëŠ¥ ìœ ì§€) -->
      <div id="section-youtube" class="section">
        <div class="section-header">
          <h2>ğŸ“º YouTube Channel Management</h2>
          <p>YouTube ì±„ë„ ì¸ì¦ ë° ì‡¼ì¸  ê´€ë¦¬ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>
        <div id="youtubeContent">
          <!-- ê¸°ì¡´ YouTube í…ŒìŠ¤íŠ¸ ë‚´ìš©ì´ ì—¬ê¸° ë“¤ì–´ê°‘ë‹ˆë‹¤ -->
          <p>YouTube ì„¹ì…˜ ë¡œë”© ì¤‘...</p>
        </div>
      </div>

      <!-- Points ì„¹ì…˜ -->
      <div id="section-points" class="section">
        <div class="section-header">
          <h2>ğŸ’° Points Management</h2>
          <p>í¬ì¸íŠ¸ ì¡°íšŒ, ì¶”ê°€, íˆìŠ¤í† ë¦¬ ê´€ë¦¬ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <!-- í˜„ì¬ í¬ì¸íŠ¸ ì¡°íšŒ -->
        <div class="card">
          <h3>ğŸ“Š í˜„ì¬ í¬ì¸íŠ¸ ì¡°íšŒ</h3>
          <button onclick="getCurrentPoints()">ğŸ” í¬ì¸íŠ¸ ì¡°íšŒ</button>
          <div id="currentPointsResult"></div>
        </div>

        <!-- í¬ì¸íŠ¸ ì¶”ê°€ -->
        <div class="card">
          <h3>â• í¬ì¸íŠ¸ ì¶”ê°€</h3>
          <div class="input-group">
            <label>ì¹´í…Œê³ ë¦¬</label>
            <select id="pointCategory">
              <option value="CONTENT">CONTENT (ì»¨í…ì¸ )</option>
              <option value="REFERRAL">REFERRAL (ì¶”ì²œ)</option>
              <option value="EVENT">EVENT (ì´ë²¤íŠ¸)</option>
              <option value="PROFIT">PROFIT (ìˆ˜ìµ)</option>
              <option value="BOOST">BOOST (ë¶€ìŠ¤íŠ¸)</option>
            </select>
          </div>
          <div class="input-group">
            <label>í¬ì¸íŠ¸</label>
            <input type="number" id="pointAmount" placeholder="100" value="100">
          </div>
          <div class="input-group">
            <label>ì‚¬ìœ </label>
            <input type="text" id="pointReason" placeholder="í…ŒìŠ¤íŠ¸ í¬ì¸íŠ¸ ì§€ê¸‰" value="í…ŒìŠ¤íŠ¸ í¬ì¸íŠ¸ ì§€ê¸‰">
          </div>
          <button onclick="addPoints()">ğŸ’° í¬ì¸íŠ¸ ì¶”ê°€</button>
          <div id="addPointsResult"></div>
        </div>

        <!-- í¬ì¸íŠ¸ íˆìŠ¤í† ë¦¬ -->
        <div class="card">
          <h3>ğŸ“œ í¬ì¸íŠ¸ íˆìŠ¤í† ë¦¬</h3>
          <button onclick="getPointsHistory()">ğŸ“‹ íˆìŠ¤í† ë¦¬ ì¡°íšŒ</button>
          <div id="pointsHistoryResult"></div>
        </div>
      </div>

      <!-- Leaderboard ì„¹ì…˜ -->
      <div id="section-leaderboard" class="section">
        <div class="section-header">
          <h2>ğŸ† Leaderboard</h2>
          <p>ë¦¬ë”ë³´ë“œ ìˆœìœ„, Top 3, í†µê³„ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="card">
          <h3>ğŸ¥‡ Top 3</h3>
          <div class="input-group">
            <label>ê¸°ê°„</label>
            <select id="leaderboardPeriod">
              <option value="ALL">ì „ì²´</option>
              <option value="1D">1ì¼</option>
              <option value="1W">1ì£¼</option>
              <option value="1M">1ê°œì›”</option>
              <option value="3M">3ê°œì›”</option>
            </select>
          </div>
          <button onclick="getTop3()">ğŸ† Top 3 ì¡°íšŒ</button>
          <div id="top3Result"></div>
        </div>

        <div class="card">
          <h3>ğŸ“Š ì „ì²´ ë¦¬ë”ë³´ë“œ</h3>
          <button onclick="getLeaderboard()">ğŸ“‹ ì „ì²´ ìˆœìœ„ ì¡°íšŒ</button>
          <div id="leaderboardResult"></div>
        </div>

        <div class="card">
          <h3>ğŸ‘¤ ë‚´ ìˆœìœ„ ì¡°íšŒ</h3>
          <button onclick="getMyRank()">ğŸ” ë‚´ ìˆœìœ„ í™•ì¸</button>
          <div id="myRankResult"></div>
        </div>
      </div>

      <!-- Referral ì„¹ì…˜ -->
      <div id="section-referral" class="section">
        <div class="section-header">
          <h2>ğŸ‘¥ Referral System</h2>
          <p>ì¶”ì²œ ì‹œìŠ¤í…œì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="card">
          <h3>ğŸ”— ë‚´ ì¶”ì²œ ë§í¬</h3>
          <button onclick="getMyReferralLink()">ğŸ”— ë§í¬ ìƒì„±</button>
          <div id="referralLinkResult"></div>
        </div>

        <div class="card">
          <h3>ğŸ“Š ì¶”ì²œ í†µê³„</h3>
          <button onclick="getReferralStats()">ğŸ“ˆ í†µê³„ ì¡°íšŒ</button>
          <div id="referralStatsResult"></div>
        </div>

        <div class="card">
          <h3>ğŸ‘¥ ë‚´ê°€ ì¶”ì²œí•œ ì‚¬ëŒë“¤</h3>
          <button onclick="getMyReferrals()">ğŸ‘¥ ëª©ë¡ ì¡°íšŒ</button>
          <div id="myReferralsResult"></div>
        </div>

        <div class="card">
          <h3>ğŸ”— X ê³µìœ  URL ìƒì„±</h3>
          <button onclick="getXShareUrl()">ğŸ¦ X ê³µìœ  ë§í¬ ìƒì„±</button>
          <div id="xShareUrlResult"></div>
        </div>
      </div>

      <!-- NFT ì„¹ì…˜ -->
      <div id="section-nft" class="section">
        <div class="section-header">
          <h2>ğŸ¨ NFT Management</h2>
          <p>NFT ë°œê¸‰, ì—…ê·¸ë ˆì´ë“œ, ì†Œê°ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="card">
          <h3>ğŸ–¼ï¸ ë‚´ NFT ëª©ë¡</h3>
          <button onclick="getMyNfts()">ğŸ” NFT ì¡°íšŒ</button>
          <div id="myNftsResult"></div>
        </div>

        <div class="card">
          <h3>ğŸ« UserPass ë°œê¸‰ ìê²© í™•ì¸</h3>
          <button onclick="checkUserPassEligibility()">âœ… ìê²© í™•ì¸</button>
          <div id="userPassEligibilityResult"></div>
        </div>

        <div class="card">
          <h3>â¬†ï¸ Tier NFT ì—…ê·¸ë ˆì´ë“œ</h3>
          <div class="input-group">
            <label>ìƒˆë¡œìš´ Tier</label>
            <select id="newTier">
              <option value="1">Tier 1</option>
              <option value="2">Tier 2</option>
              <option value="3">Tier 3</option>
              <option value="4">Tier 4</option>
              <option value="5">Tier 5</option>
            </select>
          </div>
          <button onclick="upgradeTierNft()">â¬†ï¸ ì—…ê·¸ë ˆì´ë“œ</button>
          <div id="upgradeNftResult"></div>
        </div>

        <div class="card">
          <h3>ğŸ NFT í˜œíƒ ì¡°íšŒ</h3>
          <button onclick="getNftBenefits()">ğŸ í˜œíƒ í™•ì¸</button>
          <div id="nftBenefitsResult"></div>
        </div>
      </div>

      <!-- Tutorial ì„¹ì…˜ -->
      <div id="section-tutorial" class="section">
        <div class="section-header">
          <h2>ğŸ“š Tutorial</h2>
          <p>íŠœí† ë¦¬ì–¼ ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="card">
          <h3>ğŸ“– íŠœí† ë¦¬ì–¼ ìƒíƒœ ì¡°íšŒ</h3>
          <button onclick="getTutorialStatus()">ğŸ” ìƒíƒœ í™•ì¸</button>
          <div id="tutorialStatusResult"></div>
        </div>

        <div class="card">
          <h3>âœ… íŠœí† ë¦¬ì–¼ ì™„ë£Œ/ìŠ¤í‚µ</h3>
          <div style="display: flex; gap: 10px;">
            <button onclick="completeTutorial('complete')">âœ… ì™„ë£Œ</button>
            <button onclick="completeTutorial('skip')" class="secondary">â­ï¸ ìŠ¤í‚µ</button>
          </div>
          <div id="tutorialActionResult"></div>
        </div>
      </div>

      <!-- FAQ ì„¹ì…˜ -->
      <div id="section-faq" class="section">
        <div class="section-header">
          <h2>â“ FAQ Management</h2>
          <p>FAQ ëª©ë¡ì„ ì¡°íšŒí•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="card">
          <h3>ğŸ“‹ FAQ ëª©ë¡</h3>
          <button onclick="getFaqs()">ğŸ“„ FAQ ì¡°íšŒ</button>
          <div id="faqsResult"></div>
        </div>

        <div class="card">
          <h3>ğŸ“‚ FAQ ì¹´í…Œê³ ë¦¬</h3>
          <button onclick="getFaqCategories()">ğŸ“‚ ì¹´í…Œê³ ë¦¬ ì¡°íšŒ</button>
          <div id="faqCategoriesResult"></div>
        </div>
      </div>

      <!-- Events ì„¹ì…˜ -->
      <div id="section-events" class="section">
        <div class="section-header">
          <h2>ğŸª Events</h2>
          <p>ì´ë²¤íŠ¸ ì°¸ì—¬ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="card">
          <h3>ğŸ‰ ì´ë²¤íŠ¸ ì°¸ì—¬ í…ŒìŠ¤íŠ¸</h3>
          <p>ì´ë²¤íŠ¸ ê¸°ëŠ¥ì´ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // í˜„ì¬ ì„ íƒëœ ì‚¬ìš©ì ID
    let currentUserId = '00000000-0000-0000-0000-000000000000';

    // ì„¹ì…˜ ì „í™˜
    function showSection(sectionName) {
      // ëª¨ë“  ì„¹ì…˜ ìˆ¨ê¸°ê¸°
      document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
      });

      // ëª¨ë“  ë©”ë‰´ ì•„ì´í…œ ë¹„í™œì„±í™”
      document.querySelectorAll('.sidebar-menu a').forEach(link => {
        link.classList.remove('active');
      });

      // ì„ íƒí•œ ì„¹ì…˜ í‘œì‹œ
      document.getElementById('section-' + sectionName).classList.add('active');

      // í•´ë‹¹ ë©”ë‰´ ì•„ì´í…œ í™œì„±í™”
      event.target.classList.add('active');
    }

    // ì‚¬ìš©ì ë³€ê²½
    function changeUser() {
      currentUserId = document.getElementById('userSelect').value;
      document.getElementById('userInfo').textContent = 'User ID: ' + currentUserId;
    }

    // ì‚¬ìš©ì ëª©ë¡ ë¡œë“œ
    async function loadUsers() {
      // TODO: ì‹¤ì œ API ì—°ë™
      alert('ì‚¬ìš©ì ëª©ë¡ ìƒˆë¡œê³ ì¹¨ (ì¤€ë¹„ ì¤‘)');
    }

    // í…ŒìŠ¤íŠ¸ ìœ ì € ìƒì„±
    async function createTestUser() {
      // TODO: ì‹¤ì œ API ì—°ë™
      alert('ìƒˆ í…ŒìŠ¤íŠ¸ ìœ ì € ìƒì„± (ì¤€ë¹„ ì¤‘)');
    }

    // ========== Points ê´€ë ¨ í•¨ìˆ˜ ==========
    async function getCurrentPoints() {
      const resultDiv = document.getElementById('currentPointsResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/points/current/${currentUserId}`);
        const data = await response.json();

        if (response.ok) {
          resultDiv.innerHTML = `
            <div class="result success">
              <h4>âœ… í˜„ì¬ í¬ì¸íŠ¸</h4>
              <table>
                <tr><th>í•­ëª©</th><th>í¬ì¸íŠ¸</th></tr>
                <tr><td>ì´ í¬ì¸íŠ¸</td><td><strong>${data.total_points?.toLocaleString() || 0}</strong></td></tr>
                <tr><td>ì»¨í…ì¸ </td><td>${data.slot_01_content?.toLocaleString() || 0}</td></tr>
                <tr><td>MGM (ì¶”ì²œ)</td><td>${data.slot_02_mgm?.toLocaleString() || 0}</td></tr>
                <tr><td>ì´ë²¤íŠ¸</td><td>${data.slot_03_event?.toLocaleString() || 0}</td></tr>
                <tr><td>ìˆ˜ìµ</td><td>${data.slot_04_profit?.toLocaleString() || 0}</td></tr>
                <tr><td>ìŠ¤í°ì„œ</td><td>${data.slot_05_sponsor?.toLocaleString() || 0}</td></tr>
                <tr><td>ë¶€ìŠ¤íŠ¸</td><td>${data.slot_06_boost?.toLocaleString() || 0}</td></tr>
                <tr><td>SBT ê°€ì¹˜</td><td>${data.sbt_value?.toLocaleString() || 0}</td></tr>
              </table>
            </div>
          `;
        } else {
          throw new Error(data.message || 'í¬ì¸íŠ¸ ì¡°íšŒ ì‹¤íŒ¨');
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    async function addPoints() {
      const category = document.getElementById('pointCategory').value;
      const amount = parseInt(document.getElementById('pointAmount').value);
      const reason = document.getElementById('pointReason').value;
      const resultDiv = document.getElementById('addPointsResult');

      resultDiv.innerHTML = '<p>ì²˜ë¦¬ ì¤‘...</p>';

      try {
        const response = await fetch('/api/v1/points/add', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            userId: currentUserId,
            category,
            amount,
            reason
          })
        });

        const data = await response.json();

        if (response.ok) {
          resultDiv.innerHTML = `
            <div class="result success">
              âœ… ${amount} í¬ì¸íŠ¸ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!<br>
              ì¹´í…Œê³ ë¦¬: ${category}<br>
              ì‚¬ìœ : ${reason}
            </div>
          `;
          // í˜„ì¬ í¬ì¸íŠ¸ ìë™ ê°±ì‹ 
          getCurrentPoints();
        } else {
          throw new Error(data.message || 'í¬ì¸íŠ¸ ì¶”ê°€ ì‹¤íŒ¨');
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    async function getPointsHistory() {
      const resultDiv = document.getElementById('pointsHistoryResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/points/history/${currentUserId}?page=1&limit=10`);
        const data = await response.json();

        if (response.ok && data.history && data.history.length > 0) {
          const rows = data.history.map(item => `
            <tr>
              <td>${new Date(item.created_at).toLocaleDateString()}</td>
              <td><span class="badge primary">${item.category}</span></td>
              <td><strong>${item.amount > 0 ? '+' : ''}${item.amount}</strong></td>
              <td>${item.reason || '-'}</td>
            </tr>
          `).join('');

          resultDiv.innerHTML = `
            <div class="result success">
              <h4>ğŸ“œ í¬ì¸íŠ¸ íˆìŠ¤í† ë¦¬ (ìµœê·¼ ${data.history.length}ê±´)</h4>
              <table>
                <thead>
                  <tr>
                    <th>ë‚ ì§œ</th>
                    <th>ì¹´í…Œê³ ë¦¬</th>
                    <th>í¬ì¸íŠ¸</th>
                    <th>ì‚¬ìœ </th>
                  </tr>
                </thead>
                <tbody>
                  ${rows}
                </tbody>
              </table>
            </div>
          `;
        } else {
          resultDiv.innerHTML = `<div class="result info">â„¹ï¸ í¬ì¸íŠ¸ íˆìŠ¤í† ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    // ========== Leaderboard ê´€ë ¨ í•¨ìˆ˜ ==========
    async function getTop3() {
      const period = document.getElementById('leaderboardPeriod').value;
      const resultDiv = document.getElementById('top3Result');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/leaderboard/top3?period=${period}`);
        const data = await response.json();

        if (response.ok && data.length > 0) {
          const medals = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰'];
          const cards = data.map((user, index) => `
            <div style="background: ${index === 0 ? '#fff9e6' : index === 1 ? '#f0f0f0' : '#fff5e6'}; padding: 15px; border-radius: 8px; margin: 10px 0;">
              <h4>${medals[index]} ${user.rank}ìœ„ - ${user.x_handle || 'Unknown'}</h4>
              <p><strong>ì´ í¬ì¸íŠ¸:</strong> ${user.total_current?.toLocaleString() || 0}</p>
              <p style="font-size: 12px; color: #666;">
                ì»¨í…ì¸ : ${user.contents || 0} | MGM: ${user.mgm || 0} |
                ì´ë²¤íŠ¸: ${user.event || 0} | ìˆ˜ìµ: ${user.profit || 0}
              </p>
            </div>
          `).join('');

          resultDiv.innerHTML = `<div class="result success"><h4>ğŸ† Top 3 (${period})</h4>${cards}</div>`;
        } else {
          resultDiv.innerHTML = `<div class="result info">â„¹ï¸ ë¦¬ë”ë³´ë“œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    async function getLeaderboard() {
      const period = document.getElementById('leaderboardPeriod').value;
      const resultDiv = document.getElementById('leaderboardResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/leaderboard?period=${period}&page=1&limit=20`);
        const data = await response.json();

        if (response.ok && data.leaderboard && data.leaderboard.length > 0) {
          const rows = data.leaderboard.map(user => `
            <tr>
              <td><strong>${user.rank}</strong></td>
              <td>${user.x_handle || user.channel_title || 'Unknown'}</td>
              <td><strong>${user.total_current?.toLocaleString() || 0}</strong></td>
              <td>${user.contents || 0}</td>
              <td>${user.mgm || 0}</td>
              <td>${user.event || 0}</td>
            </tr>
          `).join('');

          resultDiv.innerHTML = `
            <div class="result success">
              <h4>ğŸ“Š ì „ì²´ ë¦¬ë”ë³´ë“œ (ì´ ${data.total}ëª…)</h4>
              <table>
                <thead>
                  <tr>
                    <th>ìˆœìœ„</th>
                    <th>ì‚¬ìš©ì</th>
                    <th>ì´ í¬ì¸íŠ¸</th>
                    <th>ì»¨í…ì¸ </th>
                    <th>MGM</th>
                    <th>ì´ë²¤íŠ¸</th>
                  </tr>
                </thead>
                <tbody>
                  ${rows}
                </tbody>
              </table>
            </div>
          `;
        } else {
          resultDiv.innerHTML = `<div class="result info">â„¹ï¸ ë¦¬ë”ë³´ë“œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    async function getMyRank() {
      const period = document.getElementById('leaderboardPeriod').value;
      const resultDiv = document.getElementById('myRankResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/leaderboard/rank/${currentUserId}?period=${period}`);
        const data = await response.json();

        if (response.ok && data.rank) {
          resultDiv.innerHTML = `
            <div class="result success">
              <h4>ğŸ‘¤ ë‚´ ìˆœìœ„</h4>
              <p><strong>ìˆœìœ„:</strong> ${data.rank}ìœ„</p>
              <p><strong>ì´ í¬ì¸íŠ¸:</strong> ${data.total_current?.toLocaleString() || 0}</p>
            </div>
          `;
        } else {
          resultDiv.innerHTML = `<div class="result info">â„¹ï¸ ìˆœìœ„ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    // ========== Referral ê´€ë ¨ í•¨ìˆ˜ ==========
    async function getMyReferralLink() {
      const resultDiv = document.getElementById('referralLinkResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/referral/link/${currentUserId}`);
        const data = await response.json();

        if (response.ok) {
          resultDiv.innerHTML = `
            <div class="result success">
              <h4>ğŸ”— ë‚´ ì¶”ì²œ ë§í¬</h4>
              <p><strong>ì¶”ì²œ ì½”ë“œ:</strong> ${data.referralCode}</p>
              <p><strong>ë§í¬:</strong></p>
              <input type="text" value="${data.link}" readonly style="width: 100%;" onclick="this.select()">
              <button onclick="navigator.clipboard.writeText('${data.link}')" style="margin-top: 10px;">ğŸ“‹ ë³µì‚¬</button>
            </div>
          `;
        } else {
          throw new Error(data.message || 'ë§í¬ ì¡°íšŒ ì‹¤íŒ¨');
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    async function getReferralStats() {
      const resultDiv = document.getElementById('referralStatsResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/referral/stats/${currentUserId}`);
        const data = await response.json();

        if (response.ok) {
          resultDiv.innerHTML = `
            <div class="result success">
              <h4>ğŸ“Š ì¶”ì²œ í†µê³„</h4>
              <table>
                <tr><td>ì´ ì¶”ì²œ ì¸ì›</td><td><strong>${data.totalReferrals || 0}</strong>ëª…</td></tr>
                <tr><td>ê°€ì… ì™„ë£Œ</td><td>${data.joinedCount || 0}ëª…</td></tr>
                <tr><td>Discord ê°€ì…</td><td>${data.discordJoinedCount || 0}ëª…</td></tr>
                <tr><td>ì˜ìƒ ê²Œì‹œ ì™„ë£Œ</td><td>${data.videoPostedCount || 0}ëª…</td></tr>
                <tr><td>ì „ì²´ ì™„ë£Œ</td><td>${data.completedCount || 0}ëª…</td></tr>
              </table>
            </div>
          `;
        } else {
          throw new Error(data.message || 'í†µê³„ ì¡°íšŒ ì‹¤íŒ¨');
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    async function getMyReferrals() {
      const resultDiv = document.getElementById('myReferralsResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/referral/my-referrals/${currentUserId}`);
        const data = await response.json();

        if (response.ok && data.referrals && data.referrals.length > 0) {
          const rows = data.referrals.map(ref => `
            <tr>
              <td>${ref.x_handle || 'Unknown'}</td>
              <td><span class="badge ${ref.is_completed ? 'success' : 'warning'}">${ref.is_completed ? 'ì™„ë£Œ' : 'ì§„í–‰ì¤‘'}</span></td>
              <td>${ref.is_joined ? 'âœ…' : 'âŒ'}</td>
              <td>${ref.is_discord_joined ? 'âœ…' : 'âŒ'}</td>
              <td>${ref.is_video_posted ? 'âœ…' : 'âŒ'}</td>
              <td>${new Date(ref.created_at).toLocaleDateString()}</td>
            </tr>
          `).join('');

          resultDiv.innerHTML = `
            <div class="result success">
              <h4>ğŸ‘¥ ë‚´ê°€ ì¶”ì²œí•œ ì‚¬ëŒë“¤ (${data.referrals.length}ëª…)</h4>
              <table>
                <thead>
                  <tr>
                    <th>ì‚¬ìš©ì</th>
                    <th>ìƒíƒœ</th>
                    <th>ê°€ì…</th>
                    <th>Discord</th>
                    <th>ì˜ìƒ</th>
                    <th>ë‚ ì§œ</th>
                  </tr>
                </thead>
                <tbody>
                  ${rows}
                </tbody>
              </table>
            </div>
          `;
        } else {
          resultDiv.innerHTML = `<div class="result info">â„¹ï¸ ì•„ì§ ì¶”ì²œí•œ ì‚¬ëŒì´ ì—†ìŠµë‹ˆë‹¤.</div>`;
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    async function getXShareUrl() {
      const resultDiv = document.getElementById('xShareUrlResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/referral/x-share-url/${currentUserId}`);
        const data = await response.json();

        if (response.ok) {
          resultDiv.innerHTML = `
            <div class="result success">
              <h4>ğŸ¦ X ê³µìœ  URL</h4>
              <p><strong>ê³µìœ  í…ìŠ¤íŠ¸:</strong></p>
              <textarea readonly style="width: 100%; height: 80px;">${data.text}</textarea>
              <p style="margin-top: 10px;"><strong>ê³µìœ  URL:</strong></p>
              <input type="text" value="${data.url}" readonly style="width: 100%;" onclick="this.select()">
              <button onclick="window.open('${data.url}', '_blank')" style="margin-top: 10px;">ğŸ¦ Xì—ì„œ ê³µìœ í•˜ê¸°</button>
            </div>
          `;
        } else {
          throw new Error(data.message || 'URL ìƒì„± ì‹¤íŒ¨');
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    // ========== NFT ê´€ë ¨ í•¨ìˆ˜ ==========
    async function getMyNfts() {
      const resultDiv = document.getElementById('myNftsResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/nft/my-nfts/${currentUserId}`);
        const data = await response.json();

        if (response.ok && data.nfts && data.nfts.length > 0) {
          const cards = data.nfts.map(nft => `
            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 4px solid #667eea;">
              <h4>${nft.name || 'Unknown NFT'}</h4>
              <p><strong>íƒ€ì…:</strong> <span class="badge primary">${nft.nft_type}</span></p>
              <p><strong>Tier:</strong> ${nft.tier || '-'}</p>
              <p><strong>ë°œê¸‰ì¼:</strong> ${nft.minted_at ? new Date(nft.minted_at).toLocaleDateString() : '-'}</p>
              ${nft.is_burned ? '<p><span class="badge danger">ì†Œê°ë¨</span></p>' : ''}
            </div>
          `).join('');

          resultDiv.innerHTML = `
            <div class="result success">
              <h4>ğŸ–¼ï¸ ë‚´ NFT (${data.nfts.length}ê°œ)</h4>
              ${cards}
            </div>
          `;
        } else {
          resultDiv.innerHTML = `<div class="result info">â„¹ï¸ ë³´ìœ  ì¤‘ì¸ NFTê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    async function checkUserPassEligibility() {
      const resultDiv = document.getElementById('userPassEligibilityResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/nft/userpass/eligibility/${currentUserId}`);
        const data = await response.json();

        if (response.ok) {
          resultDiv.innerHTML = `
            <div class="result ${data.eligible ? 'success' : 'warning'}">
              <h4>${data.eligible ? 'âœ… ë°œê¸‰ ê°€ëŠ¥' : 'âŒ ë°œê¸‰ ë¶ˆê°€'}</h4>
              <p>${data.message}</p>
              ${data.reason ? `<p style="margin-top: 10px; font-size: 13px; color: #666;">${data.reason}</p>` : ''}
            </div>
          `;
        } else {
          throw new Error(data.message || 'ìê²© í™•ì¸ ì‹¤íŒ¨');
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    async function upgradeTierNft() {
      const newTier = parseInt(document.getElementById('newTier').value);
      const resultDiv = document.getElementById('upgradeNftResult');
      resultDiv.innerHTML = '<p>ì²˜ë¦¬ ì¤‘...</p>';

      try {
        const response = await fetch('/api/v1/nft/tier/upgrade', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            userId: currentUserId,
            newTier
          })
        });

        const data = await response.json();

        if (response.ok) {
          resultDiv.innerHTML = `
            <div class="result success">
              <h4>âœ… Tier ${newTier}ë¡œ ì—…ê·¸ë ˆì´ë“œ ì„±ê³µ!</h4>
              <p>${data.message}</p>
            </div>
          `;
          // NFT ëª©ë¡ ìë™ ê°±ì‹ 
          getMyNfts();
        } else {
          throw new Error(data.message || 'ì—…ê·¸ë ˆì´ë“œ ì‹¤íŒ¨');
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    async function getNftBenefits() {
      const resultDiv = document.getElementById('nftBenefitsResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/nft/benefits/${currentUserId}`);
        const data = await response.json();

        if (response.ok) {
          resultDiv.innerHTML = `
            <div class="result success">
              <h4>ğŸ NFT í˜œíƒ</h4>
              <p><strong>í¬ì¸íŠ¸ ë¶€ìŠ¤íŠ¸:</strong> ${data.pointBoost || 0}%</p>
              <p><strong>ê¸°íƒ€ í˜œíƒ:</strong></p>
              <pre style="background: #f8f9fa; padding: 10px; border-radius: 4px; overflow-x: auto;">${JSON.stringify(data, null, 2)}</pre>
            </div>
          `;
        } else {
          throw new Error(data.message || 'í˜œíƒ ì¡°íšŒ ì‹¤íŒ¨');
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    // ========== Tutorial ê´€ë ¨ í•¨ìˆ˜ ==========
    async function getTutorialStatus() {
      const resultDiv = document.getElementById('tutorialStatusResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/tutorial/status/${currentUserId}`);
        const data = await response.json();

        if (response.ok) {
          resultDiv.innerHTML = `
            <div class="result ${data.hasCompleted ? 'success' : 'info'}">
              <h4>${data.hasCompleted ? 'âœ… íŠœí† ë¦¬ì–¼ ì™„ë£Œ' : 'â„¹ï¸ íŠœí† ë¦¬ì–¼ ë¯¸ì™„ë£Œ'}</h4>
              ${data.completedAt ? `<p>ì™„ë£Œì¼: ${new Date(data.completedAt).toLocaleString()}</p>` : ''}
              ${data.skippedAt ? `<p>ìŠ¤í‚µì¼: ${new Date(data.skippedAt).toLocaleString()}</p>` : ''}
            </div>
          `;
        } else {
          throw new Error(data.message || 'ìƒíƒœ ì¡°íšŒ ì‹¤íŒ¨');
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    async function completeTutorial(action) {
      const resultDiv = document.getElementById('tutorialActionResult');
      resultDiv.innerHTML = '<p>ì²˜ë¦¬ ì¤‘...</p>';

      try {
        const response = await fetch(`/api/v1/tutorial/${action}`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ userId: currentUserId })
        });

        const data = await response.json();

        if (response.ok) {
          resultDiv.innerHTML = `
            <div class="result success">
              âœ… íŠœí† ë¦¬ì–¼ ${action === 'complete' ? 'ì™„ë£Œ' : 'ìŠ¤í‚µ'} ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤!
            </div>
          `;
          // ìƒíƒœ ìë™ ê°±ì‹ 
          getTutorialStatus();
        } else {
          throw new Error(data.message || 'ì²˜ë¦¬ ì‹¤íŒ¨');
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    // ========== FAQ ê´€ë ¨ í•¨ìˆ˜ ==========
    async function getFaqs() {
      const resultDiv = document.getElementById('faqsResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch('/api/v1/faq?lang=ko');
        const data = await response.json();

        if (response.ok && data.faqs && data.faqs.length > 0) {
          const items = data.faqs.map(faq => `
            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
              <h4>Q. ${faq.question_ko}</h4>
              <p style="margin-top: 10px; color: #666;">A. ${faq.answer_ko}</p>
              ${faq.category ? `<span class="badge primary" style="margin-top: 10px; display: inline-block;">${faq.category}</span>` : ''}
            </div>
          `).join('');

          resultDiv.innerHTML = `
            <div class="result success">
              <h4>ğŸ“‹ FAQ ëª©ë¡ (${data.faqs.length}ê°œ)</h4>
              ${items}
            </div>
          `;
        } else {
          resultDiv.innerHTML = `<div class="result info">â„¹ï¸ FAQê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    async function getFaqCategories() {
      const resultDiv = document.getElementById('faqCategoriesResult');
      resultDiv.innerHTML = '<p>ë¡œë”© ì¤‘...</p>';

      try {
        const response = await fetch('/api/v1/faq/categories');
        const data = await response.json();

        if (response.ok && data.categories && data.categories.length > 0) {
          const badges = data.categories.map(cat => `
            <span class="badge primary" style="margin: 5px;">${cat.category} (${cat.count})</span>
          `).join('');

          resultDiv.innerHTML = `
            <div class="result success">
              <h4>ğŸ“‚ FAQ ì¹´í…Œê³ ë¦¬</h4>
              <div style="margin-top: 10px;">${badges}</div>
            </div>
          `;
        } else {
          resultDiv.innerHTML = `<div class="result info">â„¹ï¸ ì¹´í…Œê³ ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="result error">âŒ ${error.message}</div>`;
      }
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
    window.addEventListener('DOMContentLoaded', () => {
      console.log('ğŸš€ XYLO Backend Test Dashboard loaded');
    });
  </script>
</body>
</html>
